# CrewAI Stock Price Visualizer

A project that uses **CrewAI** + **yfinance** + **search tools** to fetch, analyze, and visualize stock price history, enrich the report with recent news, and produce an executive brief.

---

## 🎯 What this does

- Takes a company name / ticker and a date range.  
- Uses a custom tool to fetch historical stock data (closing prices) with `yfinance`.  
- Plots a chart of the stock price over time.  
- Uses a search tool (SerperDev) to get recent news/information about the company.  
- Generates a final Markdown report (`report.md`) with data, visualization, and insights.

---

## 🏗️ Structure

- `stock_prices_visualization/crew.py` — defines the CrewAI workflow: finder, analyst, reporter agents + tasks.  
- `stock_prices_visualization/tools/custom_tool.py` — contains `YFinanceSearchTool`, which fetches stock data and makes a chart.  
- `.env` — stores API keys and other configuration.  
- `agents.yaml` / `tasks.yaml` — configurations for agent roles, tasks, expected outputs.  
- `report.md` — the final report generated by the reporter agent.

---

## ⚙️ Setup

+++bash
# Clone repo
git clone https://github.com/MarwanAbdellah/CrewAI_For_Stock_Prices_Visualization.git
cd CrewAI_For_Stock_Prices_Visualization/stock_prices_visualization

# Create and activate virtual env
python -m venv .venv
source .venv/bin/activate     # on Unix/macOS
.venv\Scripts\activate        # on Windows

# Install dependencies
pip install crewai yfinance matplotlib crewai_tools python-dotenv
+++

- Make sure your `.env` has keys like `MODEL`, `GEMINI_API_KEY`, `SERPER_API_KEY`.  
- Ensure `matplotlib` is installed, as it’s used for chart generation.

---

## 🚀 Running it

+++bash
crewai run
+++

- You’ll be prompted for a stock (ticker or company name), start and end dates.  
- The workflow will run through agents: finder → analyst → reporter.  
- Output will be saved to `report.md` and the chart image `stock_chart.png`.

---

## 🔧 Key Files / Tools

- **YFinanceSearchTool**  
  + Fetches historical stock prices.  
  + Produces JSON of closing prices.  
  + Creates a chart image (`stock_chart.png`) showing price over time.

- **SerperDevTool**  
  + Used by the reporter agent to fetch live company/news info.

- **Agents & Tasks**  
  + *Finder agent* — cleans/validates ticker and date range.  
  + *Analyst agent* — runs the tool, gets prices + chart.  
  + *Reporter agent* — enriches with news and composes final executive brief.

---

## ✅ What could be improved / next steps

- Embed the chart image directly into the Markdown so it displays in most Markdown viewers.  
- Create summary statistics (min, max, average) from the price data.  
- Add error handling for bad inputs (invalid ticker, wrong date order).  
- Possibly deploy or share a UI if desired.

---

## 📝 License & Contact

You’re welcome to adjust, re-use, or build on this.  
For questions, you can reach out to **Marwan** (via GitHub).

---

